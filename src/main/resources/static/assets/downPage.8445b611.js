import{_ as B,j as N,m as i,g as A,k as E,c as Y,w as n,p as $,r as l,o as I,d as e,e as M,u,f as U}from"./index.6d82ea19.js";import{h as V}from"./moment.17f8281e.js";const j={margin:"20px"},L=U(" Query "),S=N({setup(q){const h=i(!1),b=i(!0),v=i(!1),p=i([]),_=i(0),s=A({page:1,limit:10}),d=async()=>{const t=await $.get("/filePage",{params:s}).then(o=>o.data.data);p.value=t.listData,_.value=t.count,console.log("-----\u52A0\u8F7D\u6570\u636E-----",t)};E(()=>{console.log("-----*-----"),d(),console.log(d)});const y=t=>{s.limit=t,s.page=1,d(),console.log(`${t} items per page`)},w=t=>{s.page=t,d(),console.log(`current page: ${t}`)},x=(t,o)=>{console.log("----------------"),console.log(t,o);const a=document.createElement("a");a.style.display="none",a.href=o.fileUrl,a.setAttribute("download",o.fileName),document.body.appendChild(a),a.click()},C=(t,o)=>{const a=t[o.property];return a===void 0?"":V(a).format("YYYY-MM-DD")};return(t,o)=>{const a=l("el-input"),m=l("el-form-item"),g=l("el-button"),k=l("el-form"),f=l("el-card"),c=l("el-table-column"),z=l("vue-feather"),D=l("el-table"),F=l("el-pagination"),P=l("el-space");return I(),Y(P,{size:"20px",direction:"direction",fill:!0,wrap:""},{default:n(()=>[e(f,null,{default:n(()=>[M("div",j,[e(k,{inline:!0},{default:n(()=>[e(m,{label:"Approved by",margin:"20px"},{default:n(()=>[e(a,{placeholder:"Approved by"})]),_:1}),e(m,null,{default:n(()=>[e(g,{type:"primary"},{default:n(()=>[L]),_:1})]),_:1})]),_:1})])]),_:1}),e(f,null,{default:n(()=>[e(D,{height:"60vh",data:p.value,style:{width:"100%"},border:"",stripe:""},{default:n(()=>[e(c,{fixed:"",prop:"fileId",label:"ID",width:"50"}),e(c,{prop:"fileName",label:"\u540D\u79F0",width:"200"}),e(c,{prop:"ct",label:"\u65E5\u671F",width:"150",formatter:C}),e(c,{fixed:"right",label:"\u70B9\u51FB\u4E0B\u8F7D",width:"auto"},{default:n(r=>[e(g,{size:"small",type:"text"},{default:n(()=>[e(z,{type:"download","stroke-width":"1.5",size:"24",onClick:Q=>x(r.$index,r.row)},null,8,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(F,{currentPage:u(s).page,"onUpdate:currentPage":o[0]||(o[0]=r=>u(s).page=r),"page-size":u(s).limit,"onUpdate:page-size":o[1]||(o[1]=r=>u(s).limit=r),"page-sizes":[10,50,100,500],small:h.value,disabled:v.value,background:b.value,layout:"total, sizes, prev, pager, next, jumper",total:_.value,onSizeChange:y,onCurrentChange:w},null,8,["currentPage","page-size","small","disabled","background","total"])]),_:1})]),_:1})}}});var H=B(S,[["__scopeId","data-v-2a0198c1"]]);export{H as default};
